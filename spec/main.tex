\documentclass{article}

\input{../common/preamble}
\input{../common/macros}

% Let's make sure each section starts on its own page
\let\oldsection\section
\renewcommand\section{\clearpage\oldsection}

\newcounter{issue}

\newcommand{\reminder}[1]{\textbf{OPEN~\refstepcounter{issue}: \emph{#1}}}
\renewcommand{\reminder}[1]{} % comment this line to enable \reminder
%\newcommand{\reminder}[1]{{\refstepcounter{issue}}}
\newcommand{\reminderclosed}[1]{\textbf{RESOLVED~\refstepcounter{issue}: \emph{#1}}}
\renewcommand{\reminderclosed}[1]{} % comment this line to enable \reminderclosed
%\newcommand{\reminderclosed}[1]{{\refstepcounter{issue}}}
\newcommand{\reminderfuture}[1]{\textbf{FUTURE~\refstepcounter{issue}: \emph{#1}}}
\renewcommand{\reminderfuture}[1]{} % comment this line to enable \reminderfuture
%\newcommand{\reminderfuture}[1]{{\refstepcounter{issue}}}


\newcommand{\almann}[1]{\reminder{Almann: #1}}
\newcommand{\yannis}[1]{\reminder{Yannis: #1}}
\newcommand{\yannisclosed}[1]{\reminderclosed{Yannis: #1}}
\newcommand{\almannclosed}[1]{\reminderclosed{Almann: #1}}	
\newcommand{\yannisfuture}[1]{\reminderfuture{Yannis: #1}}
\newcommand{\almannfuture}[1]{\reminderfuture{Almann: #1}}

\newcommand{\eat}[1]{}


\def\ground{\bot}
\def\collscan{S^C}
\def\outercollscan{O^C}
\def\tuplescan{S^T}
\def\outertuplescan{O^T}
\def\tuplenav{N^T}
\def\arraynav{N^A}
\def\constructcoll{C^C}
\def\corr{R}
\def\flat{F}

\def\evalto{\leadsto}
\def\group{f_\gl{GROUP}}
\def\order{<^o}
%\def\order{f_\gl{ORDER}}x

\def\arr{\operatorname{array}}
\def\bag{\operatorname{bag}}
\def\tuple{\operatorname{tuple}}
\def\map{\operatorname{map}}
\def\fst{\operatorname{fst}}
\def\sub{\operatorname{sub}}
\def\sort{\operatorname{sort}}
\def\setop{\operatorname{set\_op}}
\def\unionall{\operatorname{union\_all}}
\def\intersectall{\operatorname{intersect\_all}}
\def\exceptall{\operatorname{except\_all}}
\def\setopeq{\overset{@}{=}}


% Operators
\newcommand{\g}{\{\!\{\langle \rangle\}\!\}}
\newcommand{\term}[1]{\ensuremath{\ddot{#1}}}
\newcommand{\op}[1]{\ensuremath{\operatorname{#1}}}
%\newcommand{\scancoll}{\ensuremath{\ggg^C}}
\newcommand{\scanbag}{\ensuremath{\ggg^{\{\!\{\}\!\}}}}
\newcommand{\leftscanbag}{\ensuremath{{\stackrel{\circ}{\ggg}}^{\{\!\{\}\!\}}}}
\newcommand{\scanarray}{\ensuremath{\ggg^{[]}}}
\newcommand{\scantuple}{\ensuremath{\ggg^{\{\}}}}
%\newcommand{\leafscancoll}{\ensuremath{\bar{\ggg}^C}}
\newcommand{\leafscanbag}{\ensuremath{\bar{\ggg}^{\{\!\{\}\!\}}}}
\newcommand{\leafscanarray}{\ensuremath{\bar{\ggg}^{[]}}}
\newcommand{\leafscantuple}{\ensuremath{\bar{\ggg}^{\{\}}}}
\newcommand{\navarray}{\ensuremath{\gl{[]}}}
\newcommand{\navtuple}{\ensuremath{\bullet}}
\newcommand{\functioncall}{\ensuremath{\lambda}}
\newcommand{\constructarray}{\ensuremath{\square^{[]}}}
\newcommand{\constructbag}{\ensuremath{\square^{\{\{\}\}}}}
\newcommand{\constructtuple}{\ensuremath{\square^{\{\}}}}
\newcommand{\returnarray}{\ensuremath{r^{[]}}}
\newcommand{\returnbag}{\ensuremath{r^{\{\!\{\}\!\}}}}
\newcommand{\returntuple}{\ensuremath{r^{\{\}}}}
\newcommand{\applyplan}{\ensuremath{\alpha}}
\newcommand{\applyfunction}{\ensuremath{\lambda}}
\newcommand{\unnest}{\ensuremath{unnest}}
\newcommand{\unnestout}{\ensuremath{unnest^o}}
\newcommand{\nav}{\ensuremath{nav}}
%\newcommand{\select}{\ensuremath{\sigma}}
\newcommand{\project}{\ensuremath{\pi}}
\newcommand{\innerjoin}{\ensuremath{\Join}}
\newcommand{\psemijoin}{\ensuremath{\hat\ltimes}}
\newcommand{\pjoin}{\ensuremath{\hat\innerjoin}}
\newcommand{\kjoin}{\ensuremath{\bar\ltimes}}
\newcommand{\outerjoinline}{\setbox0=\hbox{$\Join$}%
    \rule[0.1ex]{.27em}{.4pt}\llap{\rule[1.3ex]{.27em}{.4pt}}}
\newcommand{\leftjoin}{\ensuremath{\mathbin{\outerjoinline\mkern-5.8mu\Join}}}
\newcommand{\rightjoin}{\ensuremath{\mathbin{\Join\mkern-5.8mu\outerjoinline}}}
\newcommand{\fulljoin}{\ensuremath{\mathbin{\outerjoinline\mkern-5.8mu\Join\mkern-6.4mu\outerjoinline}}}
\newcommand{\inner}{\ensuremath{\stackrel{\leftarrow}{\Join}}}
\newcommand{\outercorr}{\ensuremath{\stackrel{\leftarrow}{\leftjoin}}}
\newcommand{\groupby}{\ensuremath{\gamma}}
\newcommand{\union}{\ensuremath{\Cup}}
\newcommand{\intersect}{\ensuremath{\Cap}}
\newcommand{\except}{\ensuremath{\setminus}}
\newcommand{\distinct}{\ensuremath{\delta}}
%\newcommand{\semijoin}{\ensuremath{\ltimes}}
\newcommand{\antijoin}{\ensuremath{\vartriangleright}}
\newcommand{\val}[1]{\ensuremath{\textbf{x}}}

% GENERAL definitions
\newcommand{\sql}{SQL Compatibility}
\newcommand{\pl}{Functional Programming}

 
% ENVIRONMENT definitions
\newcommand{\env}{\rho}
\newcommand{\typeenv}{\Gamma}

\newcommand{\db}{\env_{0}}
\newcommand{\typedb}{\typeenv_{0}}

\newcommand{\benv}{\ensuremath{(\db, \env)}}

\newcommand{\type}{\tau}

\newcommand{\eval}{\rightarrow}
\newcommand{\eqv}{\Leftrightarrow}
\newcommand{\neqv}{\nLeftrightarrow}

% FROM clause definitions
\newcommand{\from}{\gl{FROM}\xspace}
\newcommand{\JOIN}{\gl{JOIN}\xspace}
\newcommand{\CROSSJOIN}{\gl{CROSS JOIN}\xspace}
\newcommand{\LEFTCJOIN}{\gl{LEFT CROSS JOIN}\xspace}
\newcommand{\FULLCJOIN}{\gl{FULL CROSS JOIN}\xspace}
\newcommand{\LEFTJOIN}{\gl{LEFT JOIN}\xspace}
\newcommand{\FULLJOIN}{\gl{FULL JOIN}\xspace}
\newcommand{\isCollection}{\gl{isCollection}\xspace}
\newcommand{\at}{\gl{AT}\xspace}
\newcommand{\as}{\gl{AS}\xspace}
\newcommand{\on}{\gl{ON}\xspace}
\newcommand{\unpivot}{\gl{UNPIVOT}\xspace}

% SELECT clause definitions
\newcommand{\select}{\gl{SELECT}\xspace}
\newcommand{\values}{\gl{VALUE}\xspace}
\newcommand{\pivot}{\gl{PIVOT}\xspace}
\newcommand{\pivotPairs}{\gl{PIVOTPAIRS}\xspace}
\newcommand{\tupleunion}{\gl{TUPLEUNION}\xspace}
\newcommand{\anv}{\gl{ANV}\xspace}
\newcommand{\case}{\gl{CASE}\xspace}
\newcommand{\when}{\gl{WHEN}\xspace}
\newcommand{\isTuple}{\gl{isTuple}\xspace}
\newcommand{\inventName}{\gl{inventName}\xspace}

\newtheorem{example}{Example}

\newcommand{\inrecord}[1]   { {#1}_{\operatorname{in}} } % {\dot{#1}}
\newcommand{\outrecord}[1]  { {#1}_{\operatorname{out}} } % {\ddot{#1}}
\newcommand{\inbinding}[1]  { {#1}_{\operatorname{in}} }
\newcommand{\outbinding}[1] { {#1}_{\operatorname{out}} }

\newcommand{\id}[1]{{#1}^{id}}
\newcommand{\evalf}{\gl{eval}}

\newcommand{\update}[2]{\gl{update}(#1,#2)}
\newcommand{\insertbag}[2]{\gl{insertinbag}(#1,#2)}
\newcommand{\inserttuple}[3]{\gl{inserinttuple}(#1,#2,#3)}
\newcommand{\append}[2]{\gl{append}(#1,#2)}
\newcommand{\delete}[1]{\gl{delete}(#1)}
\newcommand{\insertorder}[2]{\gl{insertorder}(#1,#2)}

\newcommand{\highlight}[1]{\noindent\textbf{#1:}}

\newcounter{query}

\begin{document}
\title{PartiQL Specification}
\author{The PartiQL Specification Committee}
\maketitle
\newpage

\tableofcontents
\newpage
\input{license}
\input{introduction}
\input{model}
\input{environment}
\input{paths}
\input{from}
\input{select}
\input{predsFunctions}
\input{where}
\input{subqueryCoercion}
\input{scoping}
\input{groupby}
\input{orderby}
\input{setops}
%\input{let}
\input{pivot}
\input{schema}
\end{document}
